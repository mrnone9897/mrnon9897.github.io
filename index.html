<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIBE Previous Year Interactive Quiz</title>
    <style>
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: #f4f4f9; color: #333; max-width: 800px; margin: 0 auto; padding: 20px; }
        .header { text-align: center; margin-bottom: 30px; background: #fff; padding: 20px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .h1-title { color: #2c3e50; }
        .question-card { background: #fff; padding: 20px; margin-bottom: 20px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); border-left: 5px solid #3498db; }
        .question-text { font-weight: 600; font-size: 1.1em; margin-bottom: 15px; }
        .options label { display: block; padding: 10px; margin: 5px 0; background: #f9f9f9; border-radius: 4px; cursor: pointer; transition: background 0.2s; }
        .options label:hover { background: #eef; }
        .options input { margin-right: 10px; }
        .submit-btn { display: block; width: 100%; padding: 15px; background: #27ae60; color: white; border: none; border-radius: 5px; font-size: 1.2em; cursor: pointer; margin-top: 20px; }
        .submit-btn:hover { background: #2ecc71; }
        .result-section { display: none; margin-top: 30px; padding: 20px; background: #fff; border-radius: 8px; }
        .score-box { text-align: center; font-size: 1.5em; margin-bottom: 20px; font-weight: bold; }
        .explanation { display: none; margin-top: 10px; padding: 10px; background-color: #fff3cd; border: 1px solid #ffeeba; color: #856404; border-radius: 4px; }
        .correct-answer { color: #155724; font-weight: bold; }
        .incorrect-answer { color: #721c24; font-weight: bold; }
    </style>
</head>
<body>

<div class="header">
    <h1 class="h1-title">AIBE Previous Year Practice</h1>
    <p>Interactive Mode • Randomized Questions • Instant Analysis</p>
</div>

<div id="quiz-container">
    </div>

<button class="submit-btn" onclick="submitQuiz()">Submit & Check Score</button>

<div id="result-section" class="result-section">
    <div class="score-box" id="score-display"></div>
    <div id="detailed-analysis"></div>
</div>

<script>
    // Data extracted from your uploaded AIBE PDF
    const questionBank = [
        {
            id: 1,
            text: "Criminal Procedure (Arrest): A police officer visits A's house and tells him he is under arrest. A refuses to go. The officer leaves, saying he will return tomorrow with more force. A says he will go tomorrow. Is A under arrest at this stage?",
            options: [
                "Yes, because the officer clearly stated he is under arrest.",
                "Yes, because A consented to go the next day.",
                "No, but A is barred from leaving the jurisdiction.",
                "No, because the officer did not touch or confine A when A refused."
            ],
            correct: 3, // Index 3 corresponds to Option 4
            explanation: "Under Section 46 of CrPC, arrest requires actual seizure or submission to custody. Since A refused and was not touched/confined, arrest is not complete."
        },
        {
            id: 2,
            text: "Contract Law: A offers to buy B's bike for Rs. 35,000. B replies he will sell for Rs. 45,000. A rejects this. Later, B agrees to sell for Rs. 35,000. Is there a valid contract?",
            options: [
                "Yes, B accepted the initial offer.",
                "Yes, B was only negotiating.",
                "No, B made a counter-offer which caused the initial offer to lapse.",
                "Yes, because A failed to revoke the offer."
            ],
            correct: 2,
            explanation: "A counter-offer (Rs 45,000) automatically rejects and kills the original offer. The original offer cannot be revived later without A's consent."
        },
        {
            id: 3,
            text: "Constitution: Which fundamental right does a foreign national residing in India enjoy?",
            options: [
                "Right to assemble peaceably (Art 19).",
                "Right to carry on business (Art 19).",
                "Right to move freely in India (Art 19).",
                "Right against deprivation of personal liberty (Art 21)."
            ],
            correct: 3,
            explanation: "Article 21 (Right to Life and Personal Liberty) applies to 'persons' (including foreigners), whereas Article 19 freedoms are restricted to 'citizens'."
        },
        {
            id: 4,
            text: "Evidence Act: Which statement is accurate regarding 'Leading Questions'?",
            options: [
                "Leading questions are never permitted.",
                "Leading questions are permitted during examination-in-chief.",
                "Leading questions are permitted during re-examination.",
                "Leading questions are permitted during cross-examination."
            ],
            correct: 3,
            explanation: "Under Section 143 of the Indian Evidence Act, leading questions may be asked in cross-examination."
        },
        {
            id: 5,
            text: "Tort Law: A incites B to falsely imprison C. The Court holds them jointly liable (A: 40%, B: 60%). A refuses to pay. How much can C claim from A?",
            options: [
                "Only 40% of the amount.",
                "Nothing, as B committed the act.",
                "The full amount (Joint and Several Liability).",
                "Half the amount."
            ],
            correct: 2,
            explanation: "Joint tortfeasors are jointly and severally liable. The victim (C) can recover the entire damages from any one of them (A), regardless of their internal contribution ratio."
        },
        {
            id: 6,
            text: "Family Law: A (Muslim man) and B (Muslim woman) have a child C out of wedlock. A dies intestate. Can C inherit from A?",
            options: [
                "Yes, C inherits from both.",
                "C cannot inherit from A or B.",
                "C can inherit from B (mother) but not A (father).",
                "C can inherit from A but not B."
            ],
            correct: 2,
            explanation: "Under Muslim Law, an illegitimate child is filius nullius (child of no one) regarding the father and cannot inherit from him. (Sunni law allows inheritance from mother, but the PDF Answer Key [5] suggests 'Cannot inherit from A')."
        },
        {
            id: 7,
            text: "Legal Profession: C engages Advocate A. C's mother asks A to withdraw the suit to save family honor. What should A do?",
            options: [
                "Withdraw the suit.",
                "Follow the mother's instructions as she is family.",
                "Withdraw to prevent litigation.",
                "A must act only on the client's (C's) instructions, not the mother's."
            ],
            correct: 3,
            explanation: "An advocate has a fiduciary duty to the client alone. Instructions from relatives (even parents) cannot override the client's wishes."
        },
        {
            id: 8,
            text: "CrPC (Double Jeopardy): A is acquitted of murder due to lack of evidence. Later, police find fingerprints matching A. Can A be tried again for the same murder?",
            options: [
                "Yes, because new evidence was found.",
                "No, Section 300 CrPC bars retrial for the same offence (Double Jeopardy).",
                "Yes, for culpable homicide.",
                "Yes, if the police get a warrant."
            ],
            correct: 1,
            explanation: "Article 20(2) and Section 300 CrPC protect a person from being prosecuted and punished for the same offence more than once (Autrefois acquit)."
        },
        {
            id: 9,
            text: "IPC: A threatens to publish a defamatory article about B unless B gives money. B pays. What offence is A guilty of?",
            options: [
                "Extortion.",
                "Theft.",
                "Defamation only.",
                "No offence."
            ],
            correct: 0,
            explanation: "This fits the definition of Extortion (Section 383 IPC): intentionally putting a person in fear of injury (reputation) and inducing delivery of property."
        },
        {
            id: 10,
            text: "Constitution/GK: A Panchayat Act bans lawyers from appearing. A is arrested for trespass and denied a lawyer. Is this valid?",
            options: [
                "Yes, Panchayat Acts override other laws.",
                "No, A has a fundamental right (Art 22) to be defended by a legal practitioner.",
                "Yes, purely local matters do not need lawyers.",
                "No, but he can only consult, not be defended."
            ],
            correct: 1,
            explanation: "Article 22(1) of the Constitution guarantees the right to consult and be defended by a legal practitioner of one's choice upon arrest."
        }
    ];

    // Shuffle questions
    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
    }

    // Render Quiz
    const quizContainer = document.getElementById('quiz-container');
    shuffleArray(questionBank);

    questionBank.forEach((q, index) => {
        const card = document.createElement('div');
        card.className = 'question-card';
        
        let optionsHtml = '';
        q.options.forEach((opt, i) => {
            optionsHtml += `
                <label>
                    <input type="radio" name="q${index}" value="${i}">
                    ${opt}
                </label>
            `;
        });

        card.innerHTML = `
            <div class="question-text">Q${index + 1}. ${q.text}</div>
            <div class="options">${optionsHtml}</div>
            <div class="explanation" id="expl-${index}">
                <strong>Reasoning:</strong> ${q.explanation}
            </div>
        `;
        quizContainer.appendChild(card);
    });

    function submitQuiz() {
        let score = 0;
        const total = questionBank.length;
        
        questionBank.forEach((q, index) => {
            const selected = document.querySelector(`input[name="q${index}"]:checked`);
            const explDiv = document.getElementById(`expl-${index}`);
            
            // Reset styles
            const labels = document.querySelectorAll(`input[name="q${index}"]`);
            labels.forEach(input => {
                input.parentElement.style.backgroundColor = "#f9f9f9";
                input.parentElement.style.color = "black";
            });

            if (selected) {
                const answer = parseInt(selected.value);
                if (answer === q.correct) {
                    score++;
                    selected.parentElement.style.backgroundColor = "#d4edda"; // Green
                    selected.parentElement.innerHTML += " ✅";
                } else {
                    selected.parentElement.style.backgroundColor = "#f8d7da"; // Red
                    selected.parentElement.innerHTML += " ❌";
                    // Highlight correct
                    const correctInput = document.querySelector(`input[name="q${index}"][value="${q.correct}"]`);
                    correctInput.parentElement.style.backgroundColor = "#d4edda";
                    correctInput.parentElement.innerHTML += " ✅ (Correct)";
                }
            } else {
                 // Highlight correct if skipped
                const correctInput = document.querySelector(`input[name="q${index}"][value="${q.correct}"]`);
                correctInput.parentElement.style.backgroundColor = "#d4edda";
                correctInput.parentElement.innerHTML += " ✅ (Correct)";
            }
            
            // Show explanation
            explDiv.style.display = 'block';
        });

        const resultSection = document.getElementById('result-section');
        const scoreDisplay = document.getElementById('score-display');
        
        resultSection.style.display = 'block';
        scoreDisplay.innerHTML = `You scored ${score} out of ${total}`;
        
        // Scroll to bottom
        resultSection.scrollIntoView({ behavior: 'smooth' });
    }
</script>

</body>
</html>
