<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CLAT PG Mock Test 2026 - Complete Preparation Platform</title>
    <style>
        :root {
            --primary-color: #2563eb;
            --primary-hover: #1d4ed8;
            --success-color: #10b981;
            --error-color: #ef4444;
            --warning-color: #f59e0b;
            --text-color: #1f2937;
            --bg-color: #f8fafc;
            --card-bg: #ffffff;
            --border-color: #e5e7eb;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: var(--text-color);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .header {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .header h1 {
            color: var(--primary-color);
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .header .subtitle {
            color: #6b7280;
            font-size: 1.1rem;
            margin-bottom: 20px;
        }
        
        .exam-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .stat-card {
            background: linear-gradient(45deg, var(--primary-color), var(--primary-hover));
            color: white;
            padding: 15px;
            border-radius: 10px;
            text-align: center;
        }
        
        .stat-number {
            font-size: 1.5rem;
            font-weight: bold;
            display: block;
        }
        
        .auth-container {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 40px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            max-width: 500px;
            margin: 0 auto;
        }
        
        .auth-title {
            text-align: center;
            color: var(--primary-color);
            font-size: 1.8rem;
            margin-bottom: 30px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: var(--text-color);
        }
        
        .form-input {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }
        
        .form-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.1);
        }
        
        .btn {
            background: var(--primary-color);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }
        
        .btn:hover {
            background: var(--primary-hover);
            transform: translateY(-2px);
        }
        
        .btn-secondary {
            background: #6b7280;
            margin-top: 10px;
        }
        
        .btn-secondary:hover {
            background: #4b5563;
        }
        
        .btn-success {
            background: var(--success-color);
        }
        
        .btn-danger {
            background: var(--error-color);
        }
        
        .btn-small {
            padding: 8px 16px;
            font-size: 0.9rem;
            width: auto;
        }
        
        .auth-switch {
            text-align: center;
            margin-top: 20px;
            color: #6b7280;
        }
        
        .auth-switch a {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 500;
        }
        
        .auth-switch a:hover {
            text-decoration: underline;
        }
        
        .payment-section {
            background: #fef3c7;
            border: 2px solid #f59e0b;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }
        
        .qr-code-container {
            margin: 20px 0;
            text-align: center;
        }
        
        .qr-code {
            max-width: 300px;
            width: 100%;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        .payment-instructions {
            background: #e0f2fe;
            border-left: 4px solid #0284c7;
            padding: 15px;
            margin: 15px 0;
            border-radius: 5px;
        }
        
        .payment-instructions ol {
            text-align: left;
            margin: 10px 0;
            padding-left: 20px;
        }
        
        .payment-instructions li {
            margin: 5px 0;
        }
        
        .dashboard {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .welcome-message {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .user-status {
            display: inline-block;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
            margin: 10px 0;
        }
        
        .status-paid {
            background: #d1fae5;
            color: #065f46;
        }
        
        .status-pending {
            background: #fef3c7;
            color: #92400e;
        }
        
        .status-free {
            background: #e0f2fe;
            color: #0c4a6e;
        }
        
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .test-card {
            background: var(--card-bg);
            border: 2px solid var(--border-color);
            border-radius: 10px;
            padding: 20px;
            transition: all 0.3s ease;
        }
        
        .test-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .test-category {
            font-size: 0.9rem;
            color: var(--primary-color);
            font-weight: 600;
            margin-bottom: 10px;
        }
        
        .test-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--text-color);
        }
        
        .test-description {
            color: #6b7280;
            margin-bottom: 15px;
            font-size: 0.95rem;
            line-height: 1.4;
        }
        
        .admin-panel {
            background: #fee2e2;
            border: 2px solid var(--error-color);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .admin-title {
            color: var(--error-color);
            font-size: 1.5rem;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .user-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        
        .user-table th,
        .user-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid var(--border-color);
        }
        
        .user-table th {
            background: #f3f4f6;
            font-weight: 600;
        }
        
        .alert {
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
            font-weight: 500;
        }
        
        .alert-success {
            background: #d1fae5;
            color: #065f46;
            border: 1px solid #10b981;
        }
        
        .alert-error {
            background: #fee2e2;
            color: #991b1b;
            border: 1px solid #ef4444;
        }
        
        .alert-warning {
            background: #fef3c7;
            color: #92400e;
            border: 1px solid #f59e0b;
        }
        
        .hidden {
            display: none !important;
        }
        
        .text-center {
            text-align: center;
        }
        
        .mt-20 {
            margin-top: 20px;
        }
        
        .mb-20 {
            margin-bottom: 20px;
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 10px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .auth-container {
                padding: 20px;
            }
            
            .test-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header Section -->
        <div class="header">
            <h1>CLAT PG Mock Test 2026</h1>
            <p class="subtitle">Complete Preparation Platform</p>
            <div class="exam-stats">
                <div class="stat-card">
                    <span class="stat-number">120</span>
                    Total Questions
                </div>
                <div class="stat-card">
                    <span class="stat-number">120</span>
                    Duration (Minutes)
                </div>
                <div class="stat-card">
                    <span class="stat-number">120</span>
                    Total Marks
                </div>
                <div class="stat-card">
                    <span class="stat-number">-0.25</span>
                    Negative Marking
                </div>
            </div>
        </div>

        <!-- Login Form -->
        <div id="loginForm" class="auth-container">
            <h2 class="auth-title">üîê Login to CLAT PG Mock Test</h2>
            <div id="loginError" class="alert alert-error hidden"></div>
            <form id="loginFormElement">
                <div class="form-group">
                    <label class="form-label" for="loginEmail">Email</label>
                    <input type="email" id="loginEmail" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label" for="loginPassword">Password</label>
                    <input type="password" id="loginPassword" class="form-input" required>
                </div>
                <button type="submit" class="btn">Login</button>
            </form>
            <div class="auth-switch">
                Don't have an account? <a href="#" onclick="showRegisterForm()">Register here</a>
            </div>
            <div class="auth-switch mt-20">
                <a href="#" onclick="showAdminLogin()">Admin Login</a>
            </div>
        </div>

        <!-- Registration Form -->
        <div id="registerForm" class="auth-container hidden">
            <h2 class="auth-title">üìù Register New Account</h2>
            <div id="registerError" class="alert alert-error hidden"></div>
            <form id="registerFormElement">
                <div class="form-group">
                    <label class="form-label" for="registerName">Full Name</label>
                    <input type="text" id="registerName" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label" for="registerEmail">Email</label>
                    <input type="email" id="registerEmail" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label" for="registerPhone">Phone Number</label>
                    <input type="tel" id="registerPhone" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label" for="registerPassword">Password (min 6 characters)</label>
                    <input type="password" id="registerPassword" class="form-input" minlength="6" required>
                </div>
                <button type="submit" class="btn">Continue to Payment</button>
            </form>
            <div class="auth-switch">
                Already have an account? <a href="#" onclick="showLoginForm()">Login here</a>
            </div>
        </div>

        <!-- Payment Form -->
        <div id="paymentForm" class="auth-container hidden">
            <h2 class="auth-title">üí≥ Complete Your Payment</h2>
            
            <div class="payment-section">
                <h3 style="color: #f59e0b; margin-bottom: 15px;">üì± Pay ‚Çπ50 via PhonePe/UPI</h3>
                
                <div class="qr-code-container">
                    <img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAYEBQYFBAYGBQYHBwYIChAKCgkJChQODwwQFxQYGBcUFhYaHSUfGhsjHBYWICwgIyYnKSopGR8tMC0oMCUoKSj/2wBDAQcHBwoIChMKChMoGhYaKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCj/wAARCAAzADMDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAP/APb3p2/e9u/N5eMjY2dZx3DcJBEUZmOCWA44yAfriJrjbXY6QhwEZHBjVmGBgEjcTnPLa9t1s6vfEapCBfEpVcQvA5JAHr0zIQfwnJSaWLJ1DEohlcE5EKnG3oBk845OcivZ/2f/2f5vF/xD0rwd4h1D7FYJHLf6hfyW7ztBbqpOXEcbJv5QKCQJQNrFhitvjH8L7P4LeKLzwNcWjXcNp9n/tS2M8wjuBJ5iG4Vl5COAyxg8Ebd5ViABjfm4Nt8YfB3jjhyfWv7EuDeCMmOQoWfbGwyGE8dIVxkYHG6RQxZlB7EACxqWuQWkF0mhOkgNw8Mm6VBGFBA8wEZ8kYCnYQTnDEHB4BHPX/AMdL/lm1TePpXiFfVEtzjdxwAzYH6Vi67p914D16w8YaXa3d3o2pW4kbzrpUe5aJWKpANqlJYyy5KKxGwBi5UnBJI4ktPAvqz3MaT35bfNGVRjtZiEJhCnPHUqHbOQGJKnJj9vfDTxG/h/xBbabZadPNPc61q0j6Xw8QlF28TyNEqMCQ0JUFgxIYqxXnAFP4i6TqOveMNR8YeFG0i7ufD+iT3O/TLeeZUke6hkVbZo1y/l5VdwUPuRW3K2SB7b+0N4DufFngTRfGGg3q3KaLrVtE/mXJR5V2MkjQgbSFeP8AeRgOBIhVfuxsfU5pKKyoztKZu/NG1lHbUKmBNErnLk4Dj8Pf8/Slz/rTy7FhkRU3Z7/P1FABRRRQAUUUUAFFFFABRRRQAUUUUAFFFFABRRRQAUUUUAf/2Q==" alt="PhonePe QR Code" class="qr-code">
                </div>
                
                <div class="payment-instructions">
                    <h4>Payment Instructions:</h4>
                    <ol>
                        <li>Scan the QR code above using your PhonePe, Google Pay, or any UPI app</li>
                        <li>Pay exactly ‚Çπ50</li>
                        <li>Note down your Transaction ID after successful payment</li>
                        <li>Enter your transaction details below</li>
                        <li>Get instant access to all 50 mock tests!</li>
                    </ol>
                </div>
            </div>
            
            <div id="paymentError" class="alert alert-error hidden"></div>
            <form id="paymentFormElement">
                <div class="form-group">
                    <label class="form-label" for="transactionId">Transaction ID *</label>
                    <input type="text" id="transactionId" class="form-input" required 
                           placeholder="Enter UPI/PhonePe Transaction ID">
                </div>
                <div class="form-group">
                    <label class="form-label" for="paymentAmount">Amount Paid (‚Çπ) *</label>
                    <input type="number" id="paymentAmount" class="form-input" value="50" readonly>
                </div>
                <div class="form-group">
                    <label class="form-label" for="paymentMethod">Payment Method *</label>
                    <select id="paymentMethod" class="form-input" required>
                        <option value="">Select Payment Method</option>
                        <option value="PhonePe">PhonePe</option>
                        <option value="Google Pay">Google Pay</option>
                        <option value="Paytm">Paytm</option>
                        <option value="Other UPI">Other UPI App</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-success">Submit Payment & Get Access</button>
                <button type="button" class="btn btn-secondary" onclick="showRegisterForm()">Back to Registration</button>
            </form>
        </div>

        <!-- Admin Login -->
        <div id="adminLogin" class="auth-container hidden">
            <h2 class="auth-title">üõ°Ô∏è Admin Login</h2>
            <div id="adminLoginError" class="alert alert-error hidden"></div>
            <form id="adminLoginForm">
                <div class="form-group">
                    <label class="form-label" for="adminEmail">Admin Email</label>
                    <input type="email" id="adminEmail" class="form-input" required>
                </div>
                <div class="form-group">
                    <label class="form-label" for="adminPassword">Admin Password</label>
                    <input type="password" id="adminPassword" class="form-input" required>
                </div>
                <button type="submit" class="btn">Admin Login</button>
            </form>
            <div class="auth-switch">
                <a href="#" onclick="showLoginForm()">Back to User Login</a>
            </div>
        </div>

        <!-- User Dashboard -->
        <div id="dashboard" class="dashboard hidden">
            <div class="welcome-message">
                <h2>Welcome, <span id="userName"></span>! üéØ</h2>
                <div id="userStatusDisplay" class="user-status"></div>
                <button class="btn btn-small btn-secondary" onclick="logout()">Logout</button>
            </div>

            <!-- Test Selection -->
            <div class="form-group">
                <label class="form-label" for="testSelect">Select Mock Test:</label>
                <select id="testSelect" class="form-input">
                    <option value="">Choose a test to begin...</option>
                    <optgroup label="üìö Subject-Wise Tests (26 Tests)">
                        <option value="constitutional-1">Constitutional Law - Part 1: Fundamental Rights</option>
                        <option value="constitutional-2">Constitutional Law - Part 2: Directive Principles</option>
                        <option value="constitutional-3">Constitutional Law - Part 3: Union & State Powers</option>
                        <option value="constitutional-4">Constitutional Law - Part 4: Amendment Process</option>
                        <option value="criminal-1">Criminal Law - Part 1: IPC Essentials</option>
                        <option value="criminal-2">Criminal Law - Part 2: Criminal Procedure</option>
                        <option value="criminal-3">Criminal Law - Part 3: Evidence Act</option>
                        <option value="contract-1">Contract Law - Part 1: Formation & Validity</option>
                        <option value="contract-2">Contract Law - Part 2: Performance & Breach</option>
                        <option value="tort-1">Tort Law - Part 1: Negligence & Liability</option>
                        <option value="tort-2">Tort Law - Part 2: Specific Torts</option>
                        <option value="international-1">International Law - Part 1: Sources & Treaties</option>
                        <option value="international-2">International Law - Part 2: State Responsibility</option>
                        <option value="ipr-1">IPR - Part 1: Patents & Copyrights</option>
                        <option value="ipr-2">IPR - Part 2: Trademarks & Designs</option>
                        <option value="jurisprudence-1">Jurisprudence - Part 1: Legal Theory</option>
                        <option value="jurisprudence-2">Jurisprudence - Part 2: Natural Law</option>
                        <option value="admin-1">Administrative Law - Part 1: Principles</option>
                        <option value="admin-2">Administrative Law - Part 2: Judicial Review</option>
                        <option value="family-1">Family Law - Part 1: Hindu Law</option>
                        <option value="family-2">Family Law - Part 2: Muslim Law</option>
                        <option value="property-1">Property Law - Transfer of Property</option>
                        <option value="company-1">Company Law - Corporate Governance</option>
                        <option value="tax-1">Tax Law - Direct & Indirect Taxes</option>
                        <option value="environmental-1">Environmental Law - Principles</option>
                        <option value="labour-1">Labour Law - Industrial Relations</option>
                    </optgroup>
                    <optgroup label="üéØ Full Syllabus Tests (10 Tests)">
                        <option value="full-1">Full Syllabus Test 1</option>
                        <option value="full-2">Full Syllabus Test 2</option>
                        <option value="full-3">Full Syllabus Test 3</option>
                        <option value="full-4">Full Syllabus Test 4</option>
                        <option value="full-5">Full Syllabus Test 5</option>
                        <option value="full-6">Full Syllabus Test 6</option>
                        <option value="full-7">Full Syllabus Test 7</option>
                        <option value="full-8">Full Syllabus Test 8</option>
                        <option value="full-9">Full Syllabus Test 9</option>
                        <option value="full-10">Full Syllabus Test 10</option>
                    </optgroup>
                    <optgroup label="‚öñÔ∏è Latest Judgments Tests (7 Tests)">
                        <option value="judgment-1">2024-25 Supreme Court Judgments - Part 1</option>
                        <option value="judgment-2">2024-25 Supreme Court Judgments - Part 2</option>
                        <option value="judgment-3">Constitutional Bench Decisions 2024-25</option>
                        <option value="judgment-4">Criminal Law Reforms & Judgments</option>
                        <option value="judgment-5">Contract & Commercial Law Updates</option>
                        <option value="judgment-6">Administrative Law Recent Cases</option>
                        <option value="judgment-7">International Law & Treaties 2024-25</option>
                    </optgroup>
                    <optgroup label="üî• Final Revision Tests (7 Tests)">
                        <option value="revision-1">High Weightage Topics Test</option>
                        <option value="revision-2">Previous Year Pattern Test</option>
                        <option value="revision-3">High Difficulty Test</option>
                        <option value="revision-4">Speed & Accuracy Test</option>
                        <option value="revision-5">Grand Mock Test 1</option>
                        <option value="revision-6">Grand Mock Test 2</option>
                        <option value="revision-7">Final Simulation Test</option>
                    </optgroup>
                </select>
            </div>
            
            <button id="startTestBtn" class="btn" onclick="startTest()" disabled>Start Selected Test</button>
            
            <div class="mt-20 text-center">
                <button class="btn btn-secondary btn-small" onclick="showLeaderboard()">View Leaderboard üèÜ</button>
            </div>
        </div>

        <!-- Admin Panel -->
        <div id="adminPanel" class="admin-panel hidden">
            <h2 class="admin-title">üõ°Ô∏è Admin Panel - User Management</h2>
            <div class="text-center mb-20">
                <button class="btn btn-secondary btn-small" onclick="adminLogout()">Logout</button>
            </div>
            
            <div id="adminAlert" class="alert alert-success hidden"></div>
            
            <h3>Registered Users & Payment Status</h3>
            <table class="user-table">
                <thead>
                    <tr>
                        <th>Name</th>
                        <th>Email</th>
                        <th>Phone</th>
                        <th>Status</th>
                        <th>Transaction ID</th>
                        <th>Payment Method</th>
                        <th>Registration Date</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="adminUserTable">
                </tbody>
            </table>
        </div>

        <!-- Test Interface -->
        <div id="testInterface" class="dashboard hidden">
            <div id="testHeader" class="text-center mb-20">
                <h2 id="testTitle">Mock Test</h2>
                <div id="testTimer" style="font-size: 1.2rem; color: #ef4444; font-weight: bold;">
                    Time Remaining: <span id="timeDisplay">02:00:00</span>
                </div>
            </div>
            
            <div id="testContent">
                <div id="passageContainer" class="mb-20">
                    <h3>Passage:</h3>
                    <div id="passageText" style="background: #f9fafb; padding: 20px; border-radius: 8px; border-left: 4px solid var(--primary-color); margin: 15px 0; line-height: 1.6;"></div>
                </div>
                
                <div id="questionContainer">
                    <h4 id="questionText">Question will appear here</h4>
                    <div id="optionsContainer" class="mt-20">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
                
                <div class="mt-20 text-center">
                    <button id="prevBtn" class="btn btn-secondary btn-small" onclick="previousQuestion()">Previous</button>
                    <span style="margin: 0 20px;">
                        Question <span id="currentQuestionNumber">1</span> of <span id="totalQuestions">120</span>
                    </span>
                    <button id="nextBtn" class="btn btn-small" onclick="nextQuestion()">Next</button>
                </div>
                
                <div class="mt-20 text-center">
                    <button id="submitTestBtn" class="btn btn-danger" onclick="submitTest()">Submit Test</button>
                </div>
            </div>
        </div>

        <!-- Leaderboard -->
        <div id="leaderboard" class="dashboard hidden">
            <h2 class="text-center mb-20">üèÜ Leaderboard</h2>
            <button class="btn btn-secondary btn-small mb-20" onclick="hideLearderboard()">Back to Dashboard</button>
            
            <table class="user-table">
                <thead>
                    <tr>
                        <th>Rank</th>
                        <th>Name</th>
                        <th>Test</th>
                        <th>Score</th>
                        <th>Correct</th>
                        <th>Accuracy</th>
                        <th>Date</th>
                    </tr>
                </thead>
                <tbody id="leaderboardTable">
                </tbody>
            </table>
        </div>

        <!-- Results -->
        <div id="testResults" class="dashboard hidden">
            <h2 class="text-center mb-20">üìä Test Results</h2>
            <div id="resultsContent"></div>
            <div class="text-center mt-20">
                <button class="btn btn-secondary" onclick="backToDashboard()">Back to Dashboard</button>
                <button class="btn btn-small" onclick="showLeaderboard()">View Leaderboard üèÜ</button>
            </div>
        </div>
    </div>

    <script>
        // Global variables
        let currentUser = null;
        let currentTest = null;
        let currentQuestionIndex = 0;
        let testTimer = null;
        let testAnswers = {};
        let testStartTime = null;
        let isAdmin = false;

        // Admin credentials
        const ADMIN_EMAIL = 'amitmasiwaloct@gmail.com';
        const ADMIN_PASSWORD = 'admin123';

        // Mock test data structure
        const mockTests = {
            'constitutional-1': {
                title: 'Constitutional Law - Part 1: Fundamental Rights',
                category: 'Subject-Wise',
                passages: [
                    {
                        text: "The Supreme Court in Maneka Gandhi v. Union of India (1978) revolutionized the interpretation of Article 21 by establishing that the right to life and personal liberty cannot be suspended except by a procedure established by law that is fair, just, and reasonable. This landmark judgment expanded the scope of fundamental rights and introduced the concept of substantive due process in Indian jurisprudence. The Court held that Articles 14, 19, and 21 are interconnected and form a golden triangle of constitutional protection.",
                        questions: [
                            {
                                question: "What was the primary constitutional principle established in Maneka Gandhi v. Union of India?",
                                options: [
                                    "Separation of powers between legislature and judiciary",
                                    "Interconnectedness of Articles 14, 19, and 21 forming a golden triangle", 
                                    "Supremacy of fundamental rights over directive principles",
                                    "Federal structure of Indian Constitution"
                                ],
                                correct: 1
                            },
                            {
                                question: "The concept of 'substantive due process' introduced in this case implies:",
                                options: [
                                    "Only procedural fairness in legal proceedings",
                                    "Legislative supremacy in constitutional matters",
                                    "Both procedural and substantive fairness in law",
                                    "Judicial review limited to procedural violations"
                                ],
                                correct: 2
                            },
                            {
                                question: "According to the judgment, Article 21 can be suspended only by:",
                                options: [
                                    "Any procedure established by law",
                                    "Procedure that is fair, just, and reasonable",
                                    "Executive discretion in emergency situations",
                                    "Parliamentary legislation with simple majority"
                                ],
                                correct: 1
                            },
                            {
                                question: "The 'golden triangle' concept refers to the relationship between:",
                                options: [
                                    "Articles 12, 13, and 32",
                                    "Articles 14, 19, and 21",
                                    "Articles 25, 26, and 27", 
                                    "Articles 36, 37, and 38"
                                ],
                                correct: 1
                            },
                            {
                                question: "This judgment's impact on Indian jurisprudence was:",
                                options: [
                                    "Limited to passport and travel rights",
                                    "Expansion of scope of fundamental rights protection",
                                    "Reduction in judicial review powers",
                                    "Strengthening of executive powers"
                                ],
                                correct: 1
                            }
                        ]
                    }
                    // Add 23 more passages here for a complete test
                ]
            }
            // Add all 50 tests here
        };

        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            checkExistingSession();
            setupEventListeners();
            populateTestOptions();
        });

        function checkExistingSession() {
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                if (currentUser.email === ADMIN_EMAIL && currentUser.isAdmin) {
                    showAdminPanel();
                } else {
                    showDashboard();
                }
            }
        }

        function setupEventListeners() {
            // Login form
            document.getElementById('loginFormElement').addEventListener('submit', function(e) {
                e.preventDefault();
                handleLogin();
            });

            // Registration form
            document.getElementById('registerFormElement').addEventListener('submit', function(e) {
                e.preventDefault();
                handleRegistration();
            });

            // Payment form
            document.getElementById('paymentFormElement').addEventListener('submit', function(e) {
                e.preventDefault();
                handlePaymentSubmission();
            });

            // Admin login form
            document.getElementById('adminLoginForm').addEventListener('submit', function(e) {
                e.preventDefault();
                handleAdminLogin();
            });

            // Test selection
            document.getElementById('testSelect').addEventListener('change', function() {
                const testId = this.value;
                const startBtn = document.getElementById('startTestBtn');
                if (testId && isUserAllowed(testId)) {
                    startBtn.disabled = false;
                    startBtn.textContent = 'Start Selected Test';
                } else if (testId && !isUserAllowed(testId)) {
                    startBtn.disabled = true;
                    startBtn.textContent = 'Payment Required - Complete Registration';
                } else {
                    startBtn.disabled = true;
                    startBtn.textContent = 'Start Selected Test';
                }
            });
        }

        function handleLogin() {
            const email = document.getElementById('loginEmail').value;
            const password = document.getElementById('loginPassword').value;
            const errorDiv = document.getElementById('loginError');

            const users = JSON.parse(localStorage.getItem('users') || '{}');
            
            if (users[email] && users[email].password === password) {
                currentUser = users[email];
                currentUser.email = email;
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                
                if (email === ADMIN_EMAIL && password === ADMIN_PASSWORD) {
                    currentUser.isAdmin = true;
                    showAdminPanel();
                } else {
                    showDashboard();
                }
            } else {
                errorDiv.textContent = 'Invalid email or password';
                errorDiv.classList.remove('hidden');
            }
        }

        function handleRegistration() {
            const name = document.getElementById('registerName').value;
            const email = document.getElementById('registerEmail').value;
            const phone = document.getElementById('registerPhone').value;
            const password = document.getElementById('registerPassword').value;
            const errorDiv = document.getElementById('registerError');

            const users = JSON.parse(localStorage.getItem('users') || '{}');

            if (users[email]) {
                errorDiv.textContent = 'Email already registered. Please use a different email.';
                errorDiv.classList.remove('hidden');
                return;
            }

            // Store user data temporarily for payment
            currentUser = {
                name: name,
                email: email,
                phone: phone,
                password: password,
                registrationDate: new Date().toISOString(),
                accessType: 'pending',
                freeTestsUsed: 0
            };

            showPaymentForm();
        }

        function handlePaymentSubmission() {
            const transactionId = document.getElementById('transactionId').value;
            const paymentMethod = document.getElementById('paymentMethod').value;
            const errorDiv = document.getElementById('paymentError');

            if (!transactionId.trim()) {
                errorDiv.textContent = 'Please enter a valid Transaction ID';
                errorDiv.classList.remove('hidden');
                return;
            }

            // Store user with payment details
            const users = JSON.parse(localStorage.getItem('users') || '{}');
            currentUser.transactionId = transactionId;
            currentUser.paymentMethod = paymentMethod;
            currentUser.paymentAmount = 50;
            currentUser.paymentDate = new Date().toISOString();
            currentUser.accessType = 'paid'; // Give immediate access
            
            users[currentUser.email] = currentUser;
            localStorage.setItem('users', JSON.stringify(users));
            localStorage.setItem('currentUser', JSON.stringify(currentUser));

            // Send email notification (simulate)
            sendPaymentNotification(currentUser);

            showDashboard();
            showAlert('success', 'Payment submitted successfully! You now have full access to all tests. Admin will verify your payment shortly.');
        }

        function sendPaymentNotification(user) {
            const emailBody = `
New CLAT PG Mock Test Registration & Payment:

Name: ${user.name}
Email: ${user.email}
Phone: ${user.phone}
Transaction ID: ${user.transactionId}
Payment Method: ${user.paymentMethod}
Amount: ‚Çπ${user.paymentAmount}
Payment Date: ${new Date(user.paymentDate).toLocaleString()}
Registration Date: ${new Date(user.registrationDate).toLocaleString()}

Please verify this payment and take action if needed.
            `.trim();

            // Create mailto link
            const mailtoLink = `mailto:amitmasiwaloct@gmail.com?subject=CLAT PG Mock Test - New Payment Submission&body=${encodeURIComponent(emailBody)}`;
            
            // Open default email client
            setTimeout(() => {
                window.open(mailtoLink, '_blank');
            }, 1000);
        }

        function handleAdminLogin() {
            const email = document.getElementById('adminEmail').value;
            const password = document.getElementById('adminPassword').value;
            const errorDiv = document.getElementById('adminLoginError');

            if (email === ADMIN_EMAIL && password === ADMIN_PASSWORD) {
                currentUser = {
                    email: email,
                    name: 'Administrator',
                    isAdmin: true
                };
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                showAdminPanel();
            } else {
                errorDiv.textContent = 'Invalid admin credentials';
                errorDiv.classList.remove('hidden');
            }
        }

        function showLoginForm() {
            hideAllSections();
            document.getElementById('loginForm').classList.remove('hidden');
            clearErrors();
        }

        function showRegisterForm() {
            hideAllSections();
            document.getElementById('registerForm').classList.remove('hidden');
            clearErrors();
        }

        function showPaymentForm() {
            hideAllSections();
            document.getElementById('paymentForm').classList.remove('hidden');
            clearErrors();
        }

        function showAdminLogin() {
            hideAllSections();
            document.getElementById('adminLogin').classList.remove('hidden');
            clearErrors();
        }

        function showDashboard() {
            hideAllSections();
            document.getElementById('dashboard').classList.remove('hidden');
            document.getElementById('userName').textContent = currentUser.name;
            updateUserStatus();
        }

        function showAdminPanel() {
            hideAllSections();
            document.getElementById('adminPanel').classList.remove('hidden');
            loadAdminData();
        }

        function hideAllSections() {
            const sections = ['loginForm', 'registerForm', 'paymentForm', 'adminLogin', 'dashboard', 'adminPanel', 'testInterface', 'leaderboard', 'testResults'];
            sections.forEach(section => {
                document.getElementById(section).classList.add('hidden');
            });
        }

        function clearErrors() {
            const errorDivs = ['loginError', 'registerError', 'paymentError', 'adminLoginError'];
            errorDivs.forEach(div => {
                const element = document.getElementById(div);
                element.classList.add('hidden');
                element.textContent = '';
            });
        }

        function updateUserStatus() {
            const statusDisplay = document.getElementById('userStatusDisplay');
            if (currentUser.accessType === 'paid') {
                statusDisplay.textContent = '‚úÖ Full Access (Lifetime)';
                statusDisplay.className = 'user-status status-paid';
            } else if (currentUser.accessType === 'pending') {
                statusDisplay.textContent = '‚è≥ Payment Pending Verification';
                statusDisplay.className = 'user-status status-pending';
            } else {
                const remaining = 3 - (currentUser.freeTestsUsed || 0);
                statusDisplay.textContent = `üÜì Free Trial (${remaining} tests remaining)`;
                statusDisplay.className = 'user-status status-free';
            }
        }

        function isUserAllowed(testId) {
            if (currentUser.accessType === 'paid') return true;
            if (currentUser.accessType === 'pending') return true; // Give access while pending verification
            
            // Free trial - allow 3 tests
            const freeTestsUsed = currentUser.freeTestsUsed || 0;
            return freeTestsUsed < 3;
        }

        function loadAdminData() {
            const users = JSON.parse(localStorage.getItem('users') || '{}');
            const tableBody = document.getElementById('adminUserTable');
            tableBody.innerHTML = '';

            Object.keys(users).forEach(email => {
                const user = users[email];
                if (user.email !== ADMIN_EMAIL) { // Don't show admin in list
                    const row = tableBody.insertRow();
                    row.innerHTML = `
                        <td>${user.name}</td>
                        <td>${email}</td>
                        <td>${user.phone || 'N/A'}</td>
                        <td><span class="user-status ${getStatusClass(user.accessType)}">${user.accessType}</span></td>
                        <td>${user.transactionId || 'N/A'}</td>
                        <td>${user.paymentMethod || 'N/A'}</td>
                        <td>${new Date(user.registrationDate).toLocaleDateString()}</td>
                        <td>
                            ${user.accessType === 'paid' ? 
                                `<button class="btn btn-danger btn-small" onclick="revokeAccess('${email}')">Revoke Access</button>` :
                                `<button class="btn btn-success btn-small" onclick="approveAccess('${email}')">Approve</button>`
                            }
                        </td>
                    `;
                }
            });
        }

        function getStatusClass(accessType) {
            switch(accessType) {
                case 'paid': return 'status-paid';
                case 'pending': return 'status-pending';
                default: return 'status-free';
            }
        }

        function revokeAccess(email) {
            if (confirm('Are you sure you want to revoke access for this user?')) {
                const users = JSON.parse(localStorage.getItem('users') || '{}');
                if (users[email]) {
                    users[email].accessType = 'revoked';
                    localStorage.setItem('users', JSON.stringify(users));
                    loadAdminData();
                    showAdminAlert('Access revoked for ' + users[email].name);
                }
            }
        }

        function approveAccess(email) {
            const users = JSON.parse(localStorage.getItem('users') || '{}');
            if (users[email]) {
                users[email].accessType = 'paid';
                localStorage.setItem('users', JSON.stringify(users));
                loadAdminData();
                showAdminAlert('Access approved for ' + users[email].name);
            }
        }

        function showAdminAlert(message) {
            const alertDiv = document.getElementById('adminAlert');
            alertDiv.textContent = message;
            alertDiv.classList.remove('hidden');
            setTimeout(() => {
                alertDiv.classList.add('hidden');
            }, 3000);
        }

        function startTest() {
            const testId = document.getElementById('testSelect').value;
            if (!testId || !isUserAllowed(testId)) {
                showAlert('error', 'Please select a test or upgrade your account for full access.');
                return;
            }

            // Check if user has access
            if (currentUser.accessType === 'revoked') {
                showAlert('error', 'Your access has been revoked. Please contact admin.');
                return;
            }

            // Increment free test usage
            if (currentUser.accessType !== 'paid' && currentUser.accessType !== 'pending') {
                currentUser.freeTestsUsed = (currentUser.freeTestsUsed || 0) + 1;
                const users = JSON.parse(localStorage.getItem('users') || '{}');
                users[currentUser.email] = currentUser;
                localStorage.setItem('users', JSON.stringify(users));
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
            }

            currentTest = mockTests[testId] || generateMockTest(testId);
            currentQuestionIndex = 0;
            testAnswers = {};
            testStartTime = new Date();

            showTestInterface();
            startTestTimer();
            loadQuestion();
        }

        function generateMockTest(testId) {
            // Generate a mock test structure for demonstration
            const testTitles = {
                'constitutional-2': 'Constitutional Law - Part 2: Directive Principles',
                'criminal-1': 'Criminal Law - Part 1: IPC Essentials',
                'full-1': 'Full Syllabus Test 1',
                'judgment-1': '2024-25 Supreme Court Judgments - Part 1'
            };

            return {
                title: testTitles[testId] || 'Mock Test',
                category: 'Generated',
                passages: Array.from({length: 24}, (_, i) => ({
                    text: `Sample legal passage ${i + 1} for ${testTitles[testId] || 'Mock Test'}. This passage contains legal concepts and principles that students need to understand for CLAT PG preparation. The passage discusses various aspects of law including constitutional provisions, statutory interpretations, and judicial precedents.`,
                    questions: Array.from({length: 5}, (_, j) => ({
                        question: `Sample question ${j + 1} based on passage ${i + 1}`,
                        options: [
                            `Option A for question ${j + 1}`,
                            `Option B for question ${j + 1}`,
                            `Option C for question ${j + 1}`,
                            `Option D for question ${j + 1}`
                        ],
                        correct: Math.floor(Math.random() * 4)
                    }))
                }))
            };
        }

        function showTestInterface() {
            hideAllSections();
            document.getElementById('testInterface').classList.remove('hidden');
            document.getElementById('testTitle').textContent = currentTest.title;
        }

        function startTestTimer() {
            let timeRemaining = 120 * 60; // 120 minutes in seconds
            
            testTimer = setInterval(() => {
                timeRemaining--;
                
                const hours = Math.floor(timeRemaining / 3600);
                const minutes = Math.floor((timeRemaining % 3600) / 60);
                const seconds = timeRemaining % 60;
                
                const timeDisplay = `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                document.getElementById('timeDisplay').textContent = timeDisplay;
                
                if (timeRemaining <= 0) {
                    clearInterval(testTimer);
                    submitTest();
                }
            }, 1000);
        }

        function loadQuestion() {
            const passageIndex = Math.floor(currentQuestionIndex / 5);
            const questionIndex = currentQuestionIndex % 5;
            
            const passage = currentTest.passages[passageIndex];
            const question = passage.questions[questionIndex];
            
            document.getElementById('passageText').textContent = passage.text;
            document.getElementById('questionText').textContent = question.question;
            document.getElementById('currentQuestionNumber').textContent = currentQuestionIndex + 1;
            document.getElementById('totalQuestions').textContent = currentTest.passages.length * 5;
            
            const optionsContainer = document.getElementById('optionsContainer');
            optionsContainer.innerHTML = '';
            
            question.options.forEach((option, index) => {
                const optionDiv = document.createElement('div');
                optionDiv.innerHTML = `
                    <label style="display: block; margin: 10px 0; cursor: pointer; padding: 10px; background: #f9fafb; border-radius: 5px; border: 2px solid transparent;">
                        <input type="radio" name="answer" value="${index}" style="margin-right: 10px;" ${testAnswers[currentQuestionIndex] === index ? 'checked' : ''}>
                        ${option}
                    </label>
                `;
                
                const radio = optionDiv.querySelector('input[type="radio"]');
                const label = optionDiv.querySelector('label');
                
                radio.addEventListener('change', function() {
                    testAnswers[currentQuestionIndex] = parseInt(this.value);
                    // Update visual feedback
                    document.querySelectorAll('#optionsContainer label').forEach(l => {
                        l.style.borderColor = 'transparent';
                        l.style.background = '#f9fafb';
                    });
                    label.style.borderColor = 'var(--primary-color)';
                    label.style.background = '#eff6ff';
                });
                
                optionsContainer.appendChild(optionDiv);
            });
            
            // Update navigation buttons
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            document.getElementById('nextBtn').disabled = currentQuestionIndex === (currentTest.passages.length * 5 - 1);
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
            }
        }

        function nextQuestion() {
            if (currentQuestionIndex < (currentTest.passages.length * 5 - 1)) {
                currentQuestionIndex++;
                loadQuestion();
            }
        }

        function submitTest() {
            if (confirm('Are you sure you want to submit the test? You cannot change answers after submission.')) {
                clearInterval(testTimer);
                calculateResults();
            }
        }

        function calculateResults() {
            let correctAnswers = 0;
            let totalQuestions = currentTest.passages.length * 5;
            
            currentTest.passages.forEach((passage, passageIndex) => {
                passage.questions.forEach((question, questionIndex) => {
                    const globalIndex = passageIndex * 5 + questionIndex;
                    if (testAnswers[globalIndex] === question.correct) {
                        correctAnswers++;
                    }
                });
            });
            
            const score = correctAnswers - (totalQuestions - correctAnswers - Object.keys(testAnswers).length) * 0.25;
            const accuracy = totalQuestions > 0 ? (correctAnswers / totalQuestions * 100).toFixed(2) : 0;
            
            // Save result
            const result = {
                testId: document.getElementById('testSelect').value,
                testTitle: currentTest.title,
                score: Math.max(0, score).toFixed(2),
                correctAnswers: correctAnswers,
                totalQuestions: totalQuestions,
                accuracy: accuracy,
                date: new Date().toISOString(),
                userName: currentUser.name
            };
            
            // Save to leaderboard
            const leaderboard = JSON.parse(localStorage.getItem('leaderboard') || '[]');
            leaderboard.push(result);
            leaderboard.sort((a, b) => parseFloat(b.score) - parseFloat(a.score));
            localStorage.setItem('leaderboard', JSON.stringify(leaderboard));
            
            showResults(result);
        }

        function showResults(result) {
            hideAllSections();
            document.getElementById('testResults').classList.remove('hidden');
            
            const resultsContent = document.getElementById('resultsContent');
            resultsContent.innerHTML = `
                <div style="background: var(--card-bg); padding: 30px; border-radius: 15px; text-align: center;">
                    <h3 style="color: var(--primary-color); margin-bottom: 20px;">${result.testTitle}</h3>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                        <div style="background: #f0f9ff; padding: 20px; border-radius: 10px;">
                            <div style="font-size: 2rem; font-weight: bold; color: var(--primary-color);">${result.score}</div>
                            <div style="color: #6b7280;">Total Score</div>
                        </div>
                        <div style="background: #ecfdf5; padding: 20px; border-radius: 10px;">
                            <div style="font-size: 2rem; font-weight: bold; color: var(--success-color);">${result.correctAnswers}</div>
                            <div style="color: #6b7280;">Correct Answers</div>
                        </div>
                        <div style="background: #fff7ed; padding: 20px; border-radius: 10px;">
                            <div style="font-size: 2rem; font-weight: bold; color: var(--warning-color);">${result.accuracy}%</div>
                            <div style="color: #6b7280;">Accuracy</div>
                        </div>
                        <div style="background: #fef2f2; padding: 20px; border-radius: 10px;">
                            <div style="font-size: 2rem; font-weight: bold; color: var(--error-color);">${result.totalQuestions - result.correctAnswers}</div>
                            <div style="color: #6b7280;">Incorrect</div>
                        </div>
                    </div>
                    <div style="margin-top: 20px; color: #6b7280;">
                        Test completed on ${new Date(result.date).toLocaleString()}
                    </div>
                </div>
            `;
        }

        function showLeaderboard() {
            hideAllSections();
            document.getElementById('leaderboard').classList.remove('hidden');
            
            const leaderboard = JSON.parse(localStorage.getItem('leaderboard') || '[]');
            const tableBody = document.getElementById('leaderboardTable');
            tableBody.innerHTML = '';
            
            leaderboard.forEach((result, index) => {
                const row = tableBody.insertRow();
                const isCurrentUser = result.userName === currentUser.name;
                
                row.innerHTML = `
                    <td><strong>${index + 1}</strong></td>
                    <td ${isCurrentUser ? 'style="color: var(--primary-color); font-weight: bold;"' : ''}>${result.userName}</td>
                    <td>${result.testTitle}</td>
                    <td><strong>${result.score}</strong></td>
                    <td>${result.correctAnswers}/${result.totalQuestions}</td>
                    <td>${result.accuracy}%</td>
                    <td>${new Date(result.date).toLocaleDateString()}</td>
                `;
                
                if (isCurrentUser) {
                    row.style.background = '#eff6ff';
                }
            });
        }

        function hideLearderboard() {
            showDashboard();
        }

        function backToDashboard() {
            showDashboard();
        }

        function logout() {
            localStorage.removeItem('currentUser');
            currentUser = null;
            showLoginForm();
        }

        function adminLogout() {
            localStorage.removeItem('currentUser');
            currentUser = null;
            isAdmin = false;
            showLoginForm();
        }

        function populateTestOptions() {
            // Test options are already populated in HTML
        }

        function showAlert(type, message) {
            alert(message); // Simple alert for now
        }
    </script>
</body>
</html>
